<!DOCTYPE html>
<html lang="en">
<head>
	<meta http-equiv="Content-type" content="text/html; charset=utf-8"/>
	<meta name="viewport" content="width=320"/>
	<title>Simple kinematics</title>
	
	<!--[if lte IE 7]><script type="text/javascript" src="../core/fixes/trident3.js"></script><![endif]-->
	<!--[if gte IE 8]><script type="text/javascript" src="../core/fixes/trident4.js"></script><![endif]-->
	<script type="text/javascript" src="../core/prototype.js"></script>
	<script type="text/javascript" src="../modules/global-timer.js"></script>
	<script type="text/javascript" src="../modules/kinematics.js"></script>
	
	<script src="tests.common.js" type="text/javascript"></script>
</head>
<body>
<script type="text/javascript">
Tests.test(function (t)
{
	t.test('freezing', function (t)
	{
		var space = new Kinematics.Space()
		
		space.add(new Kinematics.Point(0, 0, 0, 0))
		space.add(new Kinematics.Point(0, 0, 0, 1))
		space.add(new Kinematics.Point(0, 0, 1, 0))
		space.add(new Kinematics.Point(0, 0, 1, 1))
		
		var fr = new Kinematics.Friction(0.2)
		space.add(fr)
		
		space.run(2000)
		space.ontimeout = function () { t.fail('timed out at pulse = ' + space.pulse), t.done() }
		space.onfreeze = function () { t.done() }
		
		t.wait(5000)
	})
})
</script>
</body>
</html>