<!DOCTYPE html>
<html lang="ru">
<head>
	<meta http-equiv="Content-type" content="text/html; charset=utf-8"/>
	<meta name="viewport" content="width=320"/>
	<title>Tests for tests</title>
	<script src="tests.common.js" type="text/javascript"></script>
</head>
<body>
<script type="text/javascript">
Tests.test(function (t)
{
	t.test('cascade', function (t)
	{
		t.test('nested 1', function (t)
		{
			t.test('nested 1.1', function (t)
			{
				t.ok(true, 'description')
				t.async(function () { t.done() }, 500)
				t.wait(1000)
			})
			t.test('nested 1.2', function (t)
			{
				t.ok(true, 'description')
			})
		})
		
		t.test('nested 2', function (t)
		{
			t.test('nested 2.1', function (t)
			{
				t.ok(true, 'description')
				t.test('nested 2.1.1', function (t)
				{
					t.ok(true, 'description')
				})
			})
		})
		
	})
	
	
	t.test('exception', {failing: true}, function (test)
	{
		a + 1
	})
	
	t.test('manual', {failing: true}, function (test)
	{
		test.time('all')
		test.log(123)
		test.info(123)
		test.pass(123)
		test.fail(123)
		test.timeEnd('all')
	})
	
	t.test('empty', function (test) {})
	
	t.test('passing', function (test)
	{
		test.ok(true)
		test.no(false)
	})
	
	t.test('failing', {failing: true}, function (test)
	{
		test.ok(false)
		test.no(true)
	})
	
	
	t.test('expect:', {failing: true, expect: 0}, function (test)
	{
		test.ok(true)
	})
	
	
	t.test('expect()', function (test)
	{
		test.expect(2)
		test.ok(true)
		test.ok(true)
	})
	
	
	t.test('timer passing', function (test)
	{
		function job ()
		{
			test.ok(true)
			test.done()
		}
		setTimeout(job, 10)
		test.wait(1000)
	})
	
	
	t.test('timer failing', {failing: true}, function (test)
	{
		test.wait(10)
	})
	
	
	t.test('infinite timer', function (test)
	{
		function job ()
		{
			test.ok(true)
			test.done()
		}
		setTimeout(job, 10)
		test.wait()
	})
	
	
	t.test('async', function (test)
	{
		function job () { test.ok(true) }
		test.async(job)
	})
	
	
	t.test('async many times', function (test)
	{
		test.async(function () { test.ok(1) })
		test.async(function () { test.ok(2) })
		test.async(function () { test.ok(3) })
	})
	
	t.test('the same async many times', function (test)
	{
		function job () { test.ok(1) }
		test.async(job)
		test.async(job)
		test.async(job)
	})
})
</script>
</body>
</html>