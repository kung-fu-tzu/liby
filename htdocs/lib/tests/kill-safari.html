<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="ru" lang="ru">
<head>
	<meta http-equiv="Content-type" content="text/html; charset=utf-8"/>
	<title>Kill Safari</title>
</head>
<body>

<script type="text/javascript">


;(function(){

var myName = 'Test', Me = self[myName] = function () {}
Me.prototype =
{
	initialize: function (parent, name, reporter, conf, callback)
	{
		this.results = []
		this.reporter = reporter
		this.callback = callback
		return this
	},
	
	run: function (delay)
	{
		this._run(this.callback)
	},
	
	_run: function (f)
	{
		try
		{
			f(this)
		}
		catch (ex)
		{
			this.fail([])
		}
	},
	
	
	
	test: function (name, conf, callback)
	{
		callback(this)
	},
	
	pass: function (m)
	{
		this.reporter.pass(m)
	},
	
	fail: function (m)
	{
		this.results.push()
		this.reporter.fail(m)
	}
}

})();

;(function(){

Array.prototype.indexOf


function Me (){}

Me.prototype =
{
	inspect: function (val, deep, hard)
	{
		return this.walk(val)
	},
	
	walk: function (val)
	{
		var ind = new Array().join()
		{
			[].sort()
		}
	}
}

Test.prototype.inspect = function (val)
{
	var me = new Me()
	return me.inspect.apply(me, arguments)
}


})();



;(function(){

var myName = 'Tests', Me = self[myName] =
{
	nodes: {},
	onload: function ()
	{
		this.run()
	},
	
	test: function (f)
	{
		this.callback = f
	},
	
	run: function ()
	{
		try { var title }
		catch (ex) { title = 'main' }
		
		var reporter = new Reporter().initialize()
		
		var test = new Test().initialize(this, title, reporter, null, this.callback)
		test.run()
	}
}

var Reporter = function () {}
Reporter.prototype =
{
	initialize: function (name)
	{
		return this
	},
	
	create: function ()
	{
		var reporter = new Reporter().initialize()
		return reporter
	},
	
	line: function (cn, m, desc)
	{
		m.constructor === Array
	},
	
	fail: function (m, d) { this.line('fail', m, d) },
	pass: function (m, d) { this.line('pass', m, d) }
}
})();




Tests.test(function (t)
{
	Array.prototype.xxx6 = 123
	t.pass(123)
	delete Array.prototype.xxx6
	
	t.pass([])
	t.inspect({}) === {}.inspect()
})
</script>

<button onclick="Tests.onload()">delete array.prototype.xxx5</button>

</body>
</html>