<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 TRANSITIONAL//EN">
<html>

	<head>
		<title></title>
		
		<script type="text/javaScript" src="/lib/Programica.js"></script>
		
		<script>
			
			function ok (res, str, out)
			{
				document.write
				(
					'<p>',
					
					'<div style="color:silver">' + out + '</div>',
					res
					?
					('<div style="color:green">' + str + '</div>')
					:
					('<div style="color:red">' + str + '</div>'),
					
					'</p>'
				)
			}
			
			function script () { var ss = document.getElementsByTagName('script'); return ss[ss.length - 1] }
			
		</script>
		
		<!--<script type="text/javaScript" src="require-external.js"></script>-->
		<script type="text/javaScript" src="external.js"></script>
		
		<script script-param="value">
			
			var arr = [0]
			require('require-1.js')
			require('require-2.js')
			require('require-3.js')
			arr[4] = 4
			
			ok( (arr[0] == 0) && (arr[1] == 1) && (arr[2] == 2) && (arr[3] == 3) && (arr[4] == 4), 'head require must be synch', arr)
			
			var once = [0]
			require('require-once.js')
			require('require-once.js')
			require('require-once.js')
			
			var script_param = this.script().getAttribute('script-param')
			
		</script>
	</head>
	<body>
	
	<script>
		
		//ok(script_param == 'script-param', '&lt;script script-param="value"&gt;', script_param)
		
		//ok( (exarr[0] == 0) && (exarr[1] == 1) && (exarr[2] == 2) && (exarr[3] == 3) && (exarr[4] == 4), 'external head require must be synch', exarr)
		
		
		
		var arr = [0]
		require('require-1.js')
		require('require-2.js')
		require('require-3.js')
		arr[4] = 4
		
		ok( (arr[0] == 0) && (arr[1] == undefined) && (arr[2] == undefined) && (arr[3] == undefined) && (arr[4] == 4), 'body require must be asynch', arr)
		
		ok( (once[0] == 0) && (once[1] == 1) && (once[2] == undefined), 'require once', once)
		
		
	</script>
	
	</body>
</html>