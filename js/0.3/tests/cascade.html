<!DOCTYPE html>
<html lang="en">
<head>
	<meta http-equiv="Content-type" content="text/html; charset=utf-8"/>
	<meta name="viewport" content="width=320"/>
	<link rel="stylesheet" href="tests.css" type="text/css"/>
	<title>Cascade tests</title>
</head>
<body>

<!--[if lte IE 7]><script type="text/javascript" src="../programica/fixes/trident3.js"></script><![endif]-->
<!--[if gte IE 8]><script type="text/javascript" src="../programica/fixes/trident4.js"></script><![endif]-->
<script type="text/javascript" src="../programica/init.js"></script>
<script type="text/javascript" src="../programica/prototype.js"></script>
<script type="text/javascript" src="../modules/cascade.js"></script>

<script type="text/javascript" src="tests.js"></script>
<script type="text/javascript">
Tests.job(function (job)
{
	job.test('simple tests', function (t)
	{
		var order = []
		
		var c = new Cascade(function () { order.push('job') })
		
		c.add(new Cascade(function () { order.push('delayed') }, 250))
		c.add(new Cascade(function () { order.push(1) }))
		c.add(new Cascade(function () { order.push(2) }))
		c.add(function () { order.push(3) })
		c.oncomplete = function ()
		{
			t.eqo(order, ['job', 1, 2, 3, 'delayed'])
			t.done()
		}
		t.wait(1000)
	})
})
</script>
</body>
</html>
