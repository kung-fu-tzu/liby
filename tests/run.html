<!DOCTYPE html>
<html lang="en">
<head>
	<meta name="viewport" content="width=device-width"/>
	<title>running all test</title>
	
	<!--[if IE 8]><script src="../../fixes/trident4/trident4.js"></script><![endif]-->
	<script>Liby = {}</script>
	<script src="../modules/request.js"></script>
	<script src="../modules/nodes.js"></script>
	<script src="../modules/$.js"></script>
	<style>
	iframe { width: 100px; height: 100px; }
	</style>
</head>
<body>
<script>
function ready ()
{
	var root = $.n(document.body)
	
	function walk (uri)
	{
		// console.log(uri)
		$.get(uri, got)
		function got (body)
		{
			var m, rex = /<a href="([\w\-]+\/)">/g
			while (m = rex.exec(body))
			{
				walk(uri + m[1])
			}
			
			
			var m, rex = /<a href="([\w\-]+)\.t\.html">/g
			var arr = []
			while (m = rex.exec(body))
				arr.push(uri + m[1] + '.t.html')
			run(uri, arr)
		}
	}
	
	function run (uri, tests)
	{
		if (!tests.length)
			return
		
		// root.h1().text(uri)
		for (var i = 0, il = tests.length; i < il; i++)
			root.add('iframe').attr('src', tests[i])
	}
	
	walk('./')
	
}
$.onload(ready)
</script>
</body>
</html>